{"version":3,"sources":["api/ProductsAPI.js","api/UserAPI.js","api/CategoryAPI.js","GlobalState.js","components/headers/icon/menu.svg","components/headers/icon/close.svg","components/headers/icon/cart.svg","components/headers/Header.js","components/mainpages/utils/productItem/BtnRender.js","components/mainpages/utils/productItem/ProductItem.js","components/mainpages/utils/loading/Loading.js","components/mainpages/products/Products.js","components/mainpages/detailProduct/DetailProduct.js","components/mainpages/auth/Login.js","components/mainpages/auth/Register.js","components/mainpages/cart/PaypalButton.js","components/mainpages/cart/Cart.js","components/mainpages/history/OrderDetails.js","components/mainpages/utils/not_found/NotFound.js","components/mainpages/history/History.js","components/mainpages/categories/Categories.js","components/mainpages/createProduct/CreateProduct.js","components/mainpages/Pages.js","App.js","index.js"],"names":["ProductsAPI","useState","products","setProducts","callback","setCallback","useEffect","a","axios","get","res","data","getProducts","UserAPI","token","isLogged","setIsLogged","isAdmin","setIsAdmin","cart","setCart","user","setUser","history","setHistory","headers","Authentication","role","console","log","alert","response","msg","getUser","addCart","product","every","item","_id","quantity","patch","CategoryAPI","categories","setCategories","getCategories","GlobalState","createContext","DataProvider","children","setToken","localStorage","getItem","refreshToken","accesstoken","setTimeout","state","productsAPI","userAPI","categoryAPI","Provider","value","Header","useContext","logoutUser","clear","window","location","href","className","src","Menu","alt","width","to","email","onClick","Close","length","Cart","BtnRender","deleteProduct","id","images","public_id","ProductItem","handleCheck","type","checked","onChange","url","title","price","description","Loading","Products","loading","setLoading","isCheck","setIsCheck","forEach","destroyImg","post","delete","map","DetailProduct","params","useParams","detailProduct","setDetailProduct","product_id","content","sold","category","Login","password","onChangeInput","e","target","name","loginSubmit","preventDefault","setItem","onSubmit","required","placeholder","autoComplete","Register","registerSubmit","PaypalButton","total","this","props","env","client","sandbox","production","currency","onError","err","onSuccess","payment","tranSuccess","onCancel","style","size","color","shape","tagline","React","Component","setTotal","reduce","prev","getTotal","addTOCart","paymentID","address","textAlign","fontSize","confirm","index","splice","OrderDetails","orderDetails","setOrderDetails","recipient_name","line1","city","postal_code","country_code","margin","NotFound","History","getHistory","items","createdAt","Categories","setCategory","onEdit","setOnEdit","setID","createCategory","put","editCategory","deleteCategory","htmlFor","initialState","CreateProduct","setProduct","setImages","useHistory","param","setCallBack","handleUpload","file","files","formData","FormData","append","handleDestroy","handleChangeInput","handleSubmit","push","styleUpload","display","disabled","row","Pages","path","exact","component","OrderDetail","Category","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8a4f05c1.chunk.js","sourcesContent":["import { useState, useEffect } from 'react'\nimport axios from 'axios'\n\n\nfunction ProductsAPI() {\n    const [products, setProducts] = useState([])\n    const [callback, setCallback] = useState(false)\n    useEffect(() => {\n        const getProducts = async () => {\n            const res = await axios.get(\"/api/products\")\n            setProducts(res.data.products)\n\n        }\n        getProducts()\n    }, [callback])\n\n\n    return {\n        products: [products, setProducts],\n        callback: [callback, setCallback]\n    }\n}\n\nexport default ProductsAPI\n","import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\n\nfunction UserAPI(token) {\n    const [isLogged, setIsLogged] = useState(false)\n    const [isAdmin, setIsAdmin] = useState(false)\n    const [cart, setCart] = useState([])\n    const [user, setUser] = useState([])\n    const [history, setHistory] = useState([])\n\n\n    useEffect(() => {\n        if (token) {\n            const getUser = async () => {\n                try {\n                    const res = await axios.get('/user/infor', {\n                        headers: { Authentication: token }\n                    })\n\n                    setIsLogged(true)\n                    setUser(res.data)\n                    res.data.role === 1 ? setIsAdmin(true) : setIsAdmin(false)\n                    setCart(res.data.cart)\n                    console.log(res)\n                } catch (err) {\n                    alert(err.response.data.msg)\n                }\n            }\n            getUser();\n        }\n    }, [token])\n\n\n\n    const addCart = async (product) => {\n        if (!isLogged) return alert(\"Please login to continue buying\")\n\n        const check = cart.every(item => {\n            return item._id !== product._id\n        })\n\n        if (check) {\n            setCart([...cart, { ...product, quantity: 1 }])\n            // console.log([...cart, { ...product, quantity: 1 }])\n            await axios.patch('/user/addcart', { cart: [...cart, { ...product, quantity: 1 }] }, {\n                headers: { Authentication: token }\n            })\n        } else {\n            alert(\"This product has been added to your cart\")\n        }\n    }\n\n    return {\n        isLogged: [isLogged, setIsLogged],\n        isAdmin: [isAdmin, setIsAdmin],\n        cart: [cart, setCart],\n        addCart: addCart,\n        user: [user, setUser],\n        history: [history, setHistory],\n\n    }\n\n\n\n}\n\nexport default UserAPI\n","import React, { useEffect, useState } from 'react'\nimport axios from 'axios'\n\nfunction CategoryAPI() {\n    const [categories, setCategories] = useState([])\n    const [callback, setCallback] = useState(false);\n    useEffect(() => {\n        const getCategories = async () => {\n            const res = await axios.get('/api/category')\n            setCategories(res.data)\n        }\n        getCategories()\n    }, [callback])\n\n\n    return {\n        categories: [categories, setCategories],\n        callback: [callback, setCallback]\n    }\n}\n\nexport default CategoryAPI\n","import React, { createContext, useState, useEffect } from 'react'\nimport ProductsAPI from './api/ProductsAPI'\nimport UserAPI from './api/UserAPI'\nimport CategoryAPI from './api/CategoryAPI'\n\nimport axios from 'axios'\n\nexport const GlobalState = createContext()\n\n\nexport const DataProvider = ({ children }) => {\n    const [token, setToken] = useState(false)\n\n\n\n    useEffect(() => {\n        const firstLogin = localStorage.getItem('firstLogin')\n        if (firstLogin) {\n            const refreshToken = async () => {\n                const res = await axios.get('/user/refresh_token')\n                console.log(res)\n                setToken(res.data.accesstoken)\n                setTimeout(() => {\n                    refreshToken()\n                }, 10 * 60 * 1000)\n\n\n            }\n            // const firstLogin = localStorage.getItem('firstLogin')\n            // if (firstLogin) \n            refreshToken()\n        }\n    }, [])\n\n\n\n    const state = {\n        token: [token, setToken],\n        productsAPI: ProductsAPI(),\n        userAPI: UserAPI(token),\n        categoryAPI: CategoryAPI()\n\n    }\n\n    return (\n        <GlobalState.Provider value={state}>\n            {children}\n        </GlobalState.Provider>\n    )\n}","export default __webpack_public_path__ + \"static/media/menu.e8db7520.svg\";","export default __webpack_public_path__ + \"static/media/close.ea7c95d7.svg\";","export default __webpack_public_path__ + \"static/media/cart.d146d6c3.svg\";","import React, { useContext } from 'react'\nimport { GlobalState } from '../../GlobalState'\nimport Menu from './icon/menu.svg'\nimport Close from './icon/close.svg'\nimport Cart from './icon/cart.svg'\nimport { Link } from 'react-router-dom'\nimport axios from 'axios'\n\n\nfunction Header() {\n    const state = useContext(GlobalState)\n    const [isLogged] = state.userAPI.isLogged;\n    const [isAdmin] = state.userAPI.isAdmin;\n    const [cart] = state.userAPI.cart\n    const [user] = state.userAPI.user\n\n    const logoutUser = async () => {\n        await axios.get(\"/user/logout\")\n        localStorage.clear();\n        window.location.href = \"/\"\n\n    }\n\n    const adminRouter = () => {\n        return (\n            <>\n                <li><Link to=\"/create_product\">Create Product</Link></li>\n                <li>\n                    <Link to=\"/category\">Categories</Link>\n                </li>\n            </>\n        )\n    }\n\n    const LoggedRouter = () => {\n        return (\n            <>\n                <li><Link to=\"/history\">History</Link></li>\n                <li>\n                    <Link to=\"/\" onClick={logoutUser}>Logout</Link>\n                </li>\n            </>\n        )\n    }\n\n    return (\n        <header>\n            <div className=\"menu\">\n                <img src={Menu} alt=\"\" width=\"30\" />\n            </div>\n\n            <div className=\"logo\">\n                <h1>\n                    <Link to=\"/\">{isAdmin ? 'ADMIN' : 'E-COMMERCE'}</Link>\n                </h1>\n            </div>\n\n\n\n            <ul >\n                <li>{isLogged || isAdmin ? user.email : ''}</li>\n                <li><Link to=\"/\">{isAdmin ? 'Products' : 'Shop'}</Link></li>\n\n                {isAdmin && adminRouter()}\n                {\n                    isLogged ? LoggedRouter() : <li>\n                        <Link to=\"/login\">Login ✥ Register</Link>\n                    </li>\n                }\n\n\n\n                <li>\n                    <img src={Close} alt=\"\" width=\"30\" className=\"menu\" />\n                </li>\n\n            </ul>\n\n            {\n                isAdmin ? '' :\n                    <div className=\"cart-icon\">\n                        <span>{cart.length}</span>\n                        <Link to=\"/cart\">\n                            <img src={Cart} alt=\"\" width=\"30\" />\n                        </Link>\n                    </div>\n            }\n\n        </header>\n    )\n}\n\nexport default Header\n","import React, { useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport { GlobalState } from '../../../../GlobalState'\n\nfunction BtnRender({ product, deleteProduct }) {\n\n    const state = useContext(GlobalState)\n    const [isAdmin, setIsAdmin] = state.userAPI.isAdmin;\n    const addCart = state.userAPI.addCart\n    // console.log(addCart)\n    return (\n        <div className=\"row_btn\">\n            {\n                isAdmin ?\n                    <>\n                        <Link id=\"btn_buy\" to=\"#!\" onClick={() => deleteProduct(product._id, product.images.public_id)}>\n                            Delete\n                    </Link>\n                        <Link id=\"btn_view\" to={`/edit_product/${product._id}`}>\n                            Edit\n                    </Link>\n                    </> :\n                    <>\n                        <Link id=\"btn_buy\" to=\"#!\" onClick={() => addCart(product)}>\n                            Buy\n                    </Link>\n                        <Link id=\"btn_view\" to={`/detail/${product._id}`}>\n                            View\n                    </Link>\n                    </>\n            }\n\n\n\n\n        </div>\n    )\n}\n\nexport default BtnRender\n","import React, { useState } from 'react'\nimport BtnRender from './BtnRender'\n\nfunction ProductItem({ product, isAdmin, deleteProduct, handleCheck }) {\n\n    return (\n        <div className=\"product_card\">\n            {\n                isAdmin && <input type=\"checkbox\" checked={product.checked}\n                    onChange={() => handleCheck(product._id)} />\n            }\n\n            <img src={product.images.url} alt=\"\" />\n\n            <div className=\"product_box\">\n                <h2 title={product.title}>{product.title}</h2>\n                <span>${product.price}</span>\n                <p>{product.description}</p>\n            </div>\n\n\n            <BtnRender product={product} deleteProduct={deleteProduct} />\n        </div>\n    )\n}\n\nexport default ProductItem\n","import React from 'react'\nimport './loading.css'\n\nfunction Loading() {\n    return (\n        <div className=\"load-page\">\n            <div className=\"loader\">\n                <div>\n                    <div>\n                        <div>\n                            <div>\n                                <div>\n                                    <div>\n                                        <div>\n                                            <div></div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Loading\n","import React, { useContext, useState, useEffect } from 'react'\nimport { GlobalState } from '../../../GlobalState'\nimport ProductItem from '../utils/productItem/ProductItem'\nimport Loading from '../utils/loading/Loading'\nimport axios from 'axios'\n\n\n\nfunction Products() {\n    const state = useContext(GlobalState)\n    const [products, setProducts] = state.productsAPI.products;\n    const [isLogged, setIsLogged] = state.userAPI.isLogged;\n    const [isAdmin, setIsAdmin] = state.userAPI.isAdmin;\n    const [token] = state.token\n    const [callback, setCallback] = state.productsAPI.callback\n    const [loading, setLoading] = useState(false)\n    const [isCheck, setIsCheck] = useState(false)\n    console.log(products)\n\n    const handleCheck = (id) => {\n        // console.log(id)\n        products.forEach(product => {\n            if (product._id === id) product.checked = !product.checked\n        });\n        setProducts([...products])\n    }\n\n\n\n\n    const deleteProduct = async (id, public_id) => {\n        console.log(id, public_id)\n        try {\n            setLoading(true)\n            const destroyImg = axios.post('/api/destroy', { public_id }, {\n                headers: { Authentication: token }\n            })\n            const deleteProduct = axios.delete(`/api/products/${id}`, {\n                headers: { Authentication: token }\n            })\n            await destroyImg\n            await deleteProduct\n\n            setCallback(!callback)\n            setLoading(false)\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    const checkAll = () => {\n        // console.log(id)\n        products.forEach(product => {\n            product.checked = !isCheck\n        });\n        setProducts([...products])\n        setIsCheck(!isCheck)\n    }\n\n    const deleteAll = () => {\n        products.forEach(product => {\n            if (product.checked) deleteProduct(product._id, product.images.public_id)\n        })\n    }\n\n    if (loading) return <div ><Loading /></div>\n    return (\n        <>\n\n            {\n                isAdmin && <div className=\"delete-all\">\n                    <span>Select all</span>\n                    <input type=\"checkbox\" checked={isCheck} onChange={checkAll} />\n                    <button onClick={deleteAll}>Delete All</button>\n                </div>\n            }\n            <div className=\"products\">\n                {\n                    products.map(product => {\n                        return <ProductItem key={product._id} product={product}\n                            isAdmin={isAdmin} deleteProduct={deleteProduct} handleCheck={handleCheck} />\n                    })\n                }\n            </div>\n\n\n            { products.length === 0 && <Loading />}\n        </>\n    )\n}\n\nexport default Products\n","import React, { useContext, useState, useEffect } from 'react'\nimport { useParams, Link } from 'react-router-dom'\nimport { GlobalState } from '../../../GlobalState'\nimport ProductItem from '../utils/productItem/ProductItem'\n\n\nfunction DetailProduct() {\n    const params = useParams()\n    const state = useContext(GlobalState)\n    const addCart = state.userAPI.addCart\n    const [products] = state.productsAPI.products\n\n    const [detailProduct, setDetailProduct] = useState([])\n\n    useEffect(() => {\n        if (params.id) {\n\n            products.forEach(product => {\n                if (product._id === params.id) setDetailProduct(product)\n            })\n        }\n    }, [params.id, products])\n\n    if (detailProduct.length === 0) return null;\n\n    return (\n        <>\n            <div className=\"detail\">\n                <img src={detailProduct.images.url} alt=\"\" />\n                <div className=\"box-detail\">\n                    <div className=\"row\">\n                        <h2>{detailProduct.title}</h2>\n                        <h6>#id: {detailProduct.product_id}</h6>\n                    </div>\n                    <span>$ {detailProduct.price}</span>\n                    <p>{detailProduct.description}</p>\n                    <p>{detailProduct.content}</p>\n                    <p>Sold: {detailProduct.sold}</p>\n                    <Link to=\"/cart\" className=\"cart\" onClick={() => addCart(detailProduct)}>\n                        Buy Now\n                    </Link>\n                </div>\n            </div>\n\n            <div>\n                <h2>Related products</h2>\n                <div className=\"products\">\n                    {\n                        products.map(product => {\n                            return product.category === detailProduct.category\n                                ? <ProductItem key={product._id} product={product} /> : null\n                        })\n                    }\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default DetailProduct\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport axios from 'axios'\n\nfunction Login() {\n    const [user, setUser] = useState({\n        email: '', password: ''\n    })\n\n    const onChangeInput = e => {\n        const { name, value } = e.target;\n        setUser({ ...user, [name]: value })\n    }\n\n    const loginSubmit = async e => {\n        e.preventDefault()\n        try {\n            await axios.post('/user/login', { ...user })\n\n            localStorage.setItem('firstLogin', true)\n\n            window.location.href = \"/\";\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    return (\n        <div className=\"login-page\">\n            <form onSubmit={loginSubmit}>\n                <h2>Login</h2>\n                <input type=\"email\" name=\"email\" required\n                    placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\n\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\n                    placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\n\n                <div className=\"row\">\n                    <button type=\"submit\">Login</button>\n                    <Link to=\"/register\">Register</Link>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Login\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport axios from 'axios'\n\nfunction Register() {\n    const [user, setUser] = useState({\n        name: '', email: '', password: ''\n    })\n\n    const onChangeInput = e => {\n        const { name, value } = e.target;\n        setUser({ ...user, [name]: value })\n    }\n\n    const registerSubmit = async e => {\n        e.preventDefault()\n        try {\n            await axios.post('/user/register', { ...user })\n\n            localStorage.setItem('firstLogin', true)\n\n\n            window.location.href = \"/\";\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    return (\n        <div className=\"login-page\">\n            <form onSubmit={registerSubmit}>\n                <h2>Register</h2>\n                <input type=\"text\" name=\"name\" required\n                    placeholder=\"Name\" value={user.name} onChange={onChangeInput} />\n\n                <input type=\"email\" name=\"email\" required\n                    placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\n\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\n                    placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\n\n                <div className=\"row\">\n                    <button type=\"submit\">Register</button>\n                    <Link to=\"/login\">Login</Link>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Register","import React from 'react';\nimport PaypalExpressBtn from 'react-paypal-express-checkout';\n\nexport default class PaypalButton extends React.Component {\n    render() {\n        const onSuccess = (payment) => {\n            // Congratulation, it came here means everything's fine!\n            console.log(\"The payment was succeeded!\", payment);\n            // You can bind the \"payment\" object's value to your state or props or whatever here, please see below for sample returned data\n            this.props.tranSuccess(payment)\n        }\n\n        const onCancel = (data) => {\n            // User pressed \"cancel\" or close Paypal's popup!\n            console.log('The payment was cancelled!', data);\n            // You can bind the \"data\" object's value to your state or props or whatever here, please see below for sample returned data\n        }\n\n        const onError = (err) => {\n            // The main Paypal's script cannot be loaded or somethings block the loading of that script!\n            console.log(\"Error!\", err);\n            // Because the Paypal's main script is loaded asynchronously from \"https://www.paypalobjects.com/api/checkout.js\"\n            // => sometimes it may take about 0.5 second for everything to get set, or for the button to appear\n        }\n\n        let env = 'sandbox'; // you can set here to 'production' for production\n        let currency = 'USD'; // or you can set this value from your props or state\n        let total = this.props.total; // same as above, this is the total amount (based on currency) to be paid by using Paypal express checkout\n        // Document on Paypal's currency code: https://developer.paypal.com/docs/classic/api/currency_codes/\n\n        const client = {\n            sandbox: 'AYi-At1iGrvy-8HrwbFJi-RS6P7LkfGV0KXd4b0FCCq2MU1P0JJtEBQ2RkCDUSJZM_CLAGNOt5PDW_7R',\n            production: 'YOUR-PRODUCTION-APP-ID',\n        }\n        // In order to get production's app-ID, you will have to send your app to Paypal for approval first\n        // For sandbox app-ID (after logging into your developer account, please locate the \"REST API apps\" section, click \"Create App\"):\n        //   => https://developer.paypal.com/docs/classic/lifecycle/sb_credentials/\n        // For production app-ID:\n        //   => https://developer.paypal.com/docs/classic/lifecycle/goingLive/\n\n        // NB. You can also have many Paypal express checkout buttons on page, just pass in the correct amount and they will work!\n        let style = {\n            size: 'small',\n            color: 'blue',\n            shape: 'rect',\n            tagline: false\n        }\n        return (\n            <PaypalExpressBtn env={env} client={client} currency={currency} total={total} onError={onError} onSuccess={onSuccess} onCancel={onCancel} style={style} />\n        );\n    }\n}","import React, { useContext, useEffect, useState } from 'react'\nimport { GlobalState } from '../../../GlobalState'\n\nimport axios from 'axios'\n\nimport PaypalButton from './PaypalButton';\n\nfunction Cart() {\n    const state = useContext(GlobalState);\n    const [cart, setCart] = state.userAPI.cart;\n    const [total, setTotal] = useState(0)\n    const [token] = state.token\n\n    console.log(cart)\n\n\n    useEffect(() => {\n        const getTotal = () => {\n            const total = cart.reduce((prev, item) => {\n                return prev + (item.price * item.quantity)\n            }, 0)\n            setTotal(total)\n        }\n        getTotal();\n\n    }, [cart])\n\n    const addTOCart = async (cart) => {\n        await axios.patch('/user/addCart', { cart }, {\n            headers: { Authentication: token }\n        })\n    }\n\n\n    const increment = (id) => {\n        cart.forEach(item => {\n            if (item._id === id) {\n                item.quantity += 1\n            }\n            setCart([...cart])\n            addTOCart(cart)\n        });\n    }\n\n    const decrement = (id) => {\n        cart.forEach(item => {\n            if (item._id === id) {\n                item.quantity === 1 ? item.quantity = 1 : item.quantity -= 1\n            }\n            setCart([...cart])\n            addTOCart(cart)\n        });\n    }\n\n    const removeProduct = id => {\n        if (window.confirm(\"Do You want to delete this product ?\")) {\n            cart.forEach((item, index) => {\n                if (item._id === id) {\n                    cart.splice(index, 1)\n                }\n            })\n            setCart([...cart])\n            addTOCart(cart)\n        }\n\n    }\n\n    const tranSuccess = async (payment) => {\n        console.log(payment)\n        const { paymentID, address } = payment;\n\n        await axios.post('/api/payment', { cart, paymentID, address }, {\n            headers: { Authentication: token }\n        })\n\n        setCart([])\n        addTOCart([])\n        alert(\"You Have successfully placed an order\")\n\n    }\n\n    if (cart.length === 0)\n        return <h2 style={{ textAlign: \"center\", fontSize: \"5rem\" }}>Cart Empty</h2>\n\n    return (\n        <div>\n            {\n                cart.map(product => (\n                    < div className=\"detail cart\" key={product._id}>\n                        <img src={product.images.url} alt=\"\" className=\"img_container\" />\n                        <div className=\"box-detail\">\n\n                            <h2>{product.title}</h2>\n\n\n                            <h3>$ {product.price * product.quantity}</h3>\n                            <p>{product.description}</p>\n                            <p>{product.content}</p>\n\n                            <div className=\"amount\">\n                                <button onClick={() => decrement(product._id)}> - </button>\n                                <span>{product.quantity}</span>\n                                <button onClick={() => increment(product._id)}> + </button>\n                            </div>\n\n                            <div className=\"delete\"\n                                onClick={() => removeProduct(product._id)}>\n                                X\n                            </div>\n\n                        </div>\n                    </div>\n                ))\n\n            }\n            <div className=\"total\">\n                <h3>Total: $ {total}</h3>\n                <PaypalButton\n                    total={total}\n                    tranSuccess={tranSuccess}\n                />\n            </div>\n        </div >\n\n    )\n}\n\nexport default Cart\n","import React, { useContext, useEffect, useState } from 'react'\nimport { useParams, Link } from 'react-router-dom';\nimport { GlobalState } from '../../../GlobalState'\n\nfunction OrderDetails() {\n    const state = useContext(GlobalState);\n    const [history] = state.userAPI.history;\n    const [orderDetails, setOrderDetails] = useState([]);\n    const params = useParams()\n\n    useEffect(() => {\n        if (params.id) {\n            history.forEach(item => {\n                if (item._id === params.id) setOrderDetails(item)\n            });\n        }\n    }, [params.id, history])\n\n    console.log(orderDetails)\n\n    if (orderDetails.length === 0) return null\n\n    return (\n        <div className=\"history-page\">\n\n\n            <table>\n                <thead>\n                    <tr>\n                        <th>Name</th>\n                        <th>Address</th>\n                        <th>Postal Code</th>\n                        <th>Country Code</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>{orderDetails.address.recipient_name}</td>\n                        <td>{orderDetails.address.line1 + ' - ' + orderDetails.address.city}</td>\n                        <td>{orderDetails.address.postal_code}</td>\n                        <td>{orderDetails.address.country_code}</td>\n\n                    </tr>\n                </tbody>\n            </table>\n\n            <table style={{ margin: \"30px 0px\" }}>\n                <thead>\n                    <tr>\n                        <th></th>\n                        <th>Product</th>\n                        <th>Quantity</th>\n                        <th>Price</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {\n                        orderDetails.cart.map(item => (\n                            <tr key={item._id}>\n                                <td><img src={item.images.url} /> </td>\n                                <td>{item.title}</td>\n                                <td>{item.quantity}</td>\n                                <td>{item.price * item.quantity}</td>\n                            </tr>\n                        ))\n                    }\n                </tbody>\n            </table>\n        </div>\n\n    )\n}\n\nexport default OrderDetails\n","import React from 'react'\n\nfunction NotFound() {\n    return (\n        <div>\n            404 | Not Found\n        </div>\n    )\n}\n\nexport default NotFound\n","import React, { useContext, useEffect } from 'react'\nimport { GlobalState } from '../../../GlobalState'\nimport { Link } from 'react-router-dom'\nimport axios from 'axios'\nfunction History() {\n    const state = useContext(GlobalState);\n    const [history, setHistory] = state.userAPI.history\n\n    const [isAdmin] = state.userAPI.isAdmin\n    const [token] = state.token;\n\n    useEffect(() => {\n        if (token) {\n            const getHistory = async () => {\n                if (isAdmin) {\n                    const res = await axios.get('/api/payment', {\n                        headers: { Authentication: token }\n                    })\n\n\n                    // console.log(res)\n                    setHistory(res.data)\n                } else {\n                    const res = await axios.get('/user/history', {\n                        headers: { Authentication: token }\n                    })\n\n\n                    // console.log(res)\n                    setHistory(res.data)\n                }\n\n\n\n            }\n            getHistory();\n        }\n    }, [token, isAdmin, setHistory])\n\n    return (\n        <div className=\"history-page\">\n            <h2>ORDER HISTORY</h2>\n            <h4>You have {history.length} ordered</h4>\n\n\n            <table>\n                <thead>\n                    <tr>\n                        <th>Payment ID</th>\n                        <th>Date of Purchased</th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {\n                        history.map(items => (\n                            <tr key={items._id}>\n                                <td>{items.paymentID}</td>\n                                <td>{items.createdAt}</td>\n                                <td><Link to={`/history/${items._id}`}>View</Link></td>\n                            </tr>\n                        ))\n                    }\n                </tbody>\n            </table>\n        </div>\n\n    )\n}\n\nexport default History\n","import axios from 'axios';\nimport React, { useState, useContext } from 'react'\nimport { GlobalState } from '../../../GlobalState'\nfunction Categories() {\n    const state = useContext(GlobalState);\n    const [categories] = state.categoryAPI.categories;\n    const [category, setCategory] = useState('')\n    const [token] = state.token\n    const [callback, setCallback] = state.categoryAPI.callback\n    const [onEdit, setOnEdit] = useState(false)\n    const [id, setID] = useState('')\n\n\n    const createCategory = async (e) => {\n        e.preventDefault();\n        try {\n            if (onEdit) {\n                const res = await axios.put(`/api/category/${id}`, { name: category }, {\n                    headers: { Authentication: token }\n                })\n                alert(res.data.msg)\n            } else {\n                const res = await axios.post('/api/category', { name: category }, {\n                    headers: { Authentication: token }\n                })\n                // console.log(res)\n                // alert(res.data.msg)\n                alert(res.data.msg)\n            }\n            setOnEdit(false)\n            setCategory('');\n            setCallback(!callback);\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    const editCategory = async (id, name) => {\n        setID(id)\n        setCategory(name)\n        setOnEdit(true)\n    }\n\n    const deleteCategory = async (id) => {\n        try {\n            const res = await axios.delete(`/api/category/${id}`, {\n                headers: { Authentication: token }\n            })\n            alert(res.data.msg)\n            setCallback(!callback)\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    return (\n        <div className=\"categories\">\n            <form onSubmit={createCategory}>\n                <label htmlFor=\"category\">Category</label>\n                <input type=\"text\" name=\"category\" value={category} required\n                    onChange={e => setCategory(e.target.value)} />\n\n                <button type=\"submit\">{onEdit ? \"Update\" : \"Save\"}</button>\n            </form>\n            <div className=\"col\">\n                {\n                    categories.map(category => (\n                        <div className=\"row\" key={category._id}>\n                            <p>{category.name} </p>\n                            <div>\n                                <button onClick={() => editCategory(category._id, category.name)}>Edit</button>\n                                <button onClick={() => deleteCategory(category._id)}>Delete</button>\n                            </div>\n                        </div>\n                    ))\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Categories\n","import React, { useState, useContext, useEffect } from 'react'\nimport axios from 'axios';\nimport { GlobalState } from '../../../GlobalState'\nimport Loading from '../utils/loading/Loading'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { set } from 'mongoose';\n\nconst initialState = {\n    product_id: '',\n    title: '',\n    price: 0,\n    description: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem, nihil minus id harum omnis totam similique veniam. Quia, maxime ducimus.',\n    content: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem, nihil minus id harum omnis totam similique veniam. Quia, maxime ducimus.',\n    category: '',\n    _id: ''\n}\n\nfunction CreateProduct() {\n    const state = useContext(GlobalState);\n    const [categories] = state.categoryAPI.categories;\n    const [product, setProduct] = useState(initialState)\n    const [images, setImages] = useState(false);\n    const [loading, setLoading] = useState(false)\n    console.log(product.description)\n    const [isAdmin] = state.userAPI.isAdmin;\n    const [token] = state.token\n    const history = useHistory()\n    const param = useParams()\n    const [onEdit, setOnEdit] = useState(false)\n    const [products] = state.productsAPI.products;\n    const [callback, setCallBack] = state.productsAPI.callback\n\n    useEffect(() => {\n        if (param.id) {\n            setOnEdit(true)\n            products.forEach(product => {\n                if (product._id === param.id) {\n                    setProduct(product)\n                    setImages(product.images)\n                }\n            });\n        } else {\n            setOnEdit(false)\n            setProduct(initialState)\n            setImages(false)\n        }\n    }, [param.id, products])\n\n    const handleUpload = async e => {\n        e.preventDefault();\n        try {\n            if (!isAdmin) return alert(\"you are not admin\")\n            const file = e.target.files[0]\n            console.log(file)\n\n            if (!file) return alert(\"files not exist\")\n\n            if (file.size > 1024 * 1024) return alert(\"Size too large !\")\n\n            if (file.type !== 'image/jpeg' && file.type !== 'image/png')\n                return alert(\"files format incorrect\")\n\n            let formData = new FormData();\n            formData.append('file', file)\n\n            setLoading(true)\n            const res = await axios.post('/api/upload', formData, {\n                headers: { 'content-type': 'multipart/form-data', Authentication: token }\n            });\n\n            setLoading(false)\n            setImages(res.data)\n            console.log(res.data)\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    const handleDestroy = async () => {\n        try {\n            if (!isAdmin) return alert(\"you are not admin\")\n            setLoading(true)\n            const res = await axios.post('/api/destroy', { public_id: images.public_id }, {\n                headers: {\n                    Authentication: token\n                }\n            });\n            setLoading(false)\n            setImages(false)\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n\n    const handleChangeInput = (e) => {\n        const { name, value } = e.target\n        setProduct({ ...product, [name]: value })\n        console.log({ ...product, [name]: value })\n    }\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n        try {\n            if (!isAdmin) return alert(\"you are not admin\")\n            if (!images) return alert(\"No image upload\")\n            if (onEdit) {\n                await axios.put(`/api/products/${product._id}`, { ...product, images }, {\n                    headers: { Authentication: token }\n                })\n            } else {\n                await axios.post('/api/products', { ...product, images }, {\n                    headers: { Authentication: token }\n                })\n            }\n            setCallBack(!callback)\n\n\n            history.push(\"/\")\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    const styleUpload = {\n        display: images ? \"block\" : \"none\"\n    }\n    console.log(images)\n    return (\n        <div className=\"create_product\">\n            <div className=\"upload\">\n                <input type=\"file\" name=\"file\" id=\"file_up\" onChange={handleUpload} />\n                {\n                    loading ? <div id=\"file_img\"><Loading /></div>\n                        : <div id=\"file_img\" style={styleUpload}>\n                            <img src={images ? images.url : ''} alt=\"\" />\n                            <span onClick={handleDestroy}>X</span>\n                        </div>\n                }\n\n\n            </div>\n\n            <form onSubmit={handleSubmit}>\n                <div className=\"row\">\n                    <label htmlFor=\"product_id\">Product ID</label>\n                    <input type=\"text\" name=\"product_id\" id=\"porduct_id\" required value={product.product_id} onChange={handleChangeInput} disabled={onEdit} />\n                </div>\n                <div className=\"row\">\n                    <label htmlFor=\"title\">Title</label>\n                    <input type=\"text\" name=\"title\" id=\"title\" required value={product.title} onChange={handleChangeInput} />\n                </div>\n                <div className=\"row\">\n                    <label htmlFor=\"price\">Price</label>\n                    <input type=\"number\" name=\"price\" id=\"price\" required value={product.price} onChange={handleChangeInput} />\n                </div>\n                <div className=\"row\">\n                    <label htmlFor=\"description\">Description</label>\n                    <textarea type=\"text\" name=\"description\" id=\"description\" required value={product.description} row=\"5\" onChange={handleChangeInput} />\n                </div>\n                <div className=\"row\">\n                    <label htmlFor=\"content\">Content</label>\n                    <textarea type=\"text\" name=\"content\" id=\"content\" required value={product.content} row=\"7\" onChange={handleChangeInput} />\n                </div>\n                <div className=\"row\">\n                    <label htmlFor=\"categories\">Categories : </label>\n                    <select name=\"category\" value={product.category} onChange={handleChangeInput}>\n                        <option value=\"\">Please Select a category</option>\n                        {\n                            categories.map(category => (\n                                <option value={category._id} key={category._id}>\n                                    { category.name}\n                                </option>\n                            ))\n                        }\n                    </select>\n                </div>\n                <button type=\"submit\">{onEdit ? \"Update\" : \"Create\"}</button>\n            </form>\n        </div>\n    )\n}\n\nexport default CreateProduct\n","import React, { useContext } from 'react'\nimport { Switch, Route } from 'react-router-dom'\nimport Products from './products/Products'\nimport DetailProduct from './detailProduct/DetailProduct'\nimport Login from './auth/Login'\nimport Register from './auth/Register'\nimport Cart from './cart/Cart'\nimport OrderDetail from './history/OrderDetails'\n\nimport NotFound from './utils/not_found/NotFound'\n\nimport History from './history/History'\nimport Category from './categories/Categories'\nimport CreateProduct from './createProduct/CreateProduct'\n\nimport { GlobalState } from '../../GlobalState'\n\n\nfunction Pages() {\n    const state = useContext(GlobalState);\n    const [isLogged] = state.userAPI.isLogged;\n    const [isAdmin] = state.userAPI.isAdmin;\n\n\n    return (\n        <Switch>\n            <Route path=\"/\" exact component={Products} />\n            <Route path=\"/detail/:id\" exact component={DetailProduct} />\n\n            <Route path=\"/login\" exact component={isLogged ? NotFound : Login} />\n            <Route path=\"/register\" exact component={isLogged ? NotFound : Register} />\n\n            <Route path=\"/cart\" exact component={Cart} />\n\n            <Route path=\"/history\" exact component={isLogged ? History : NotFound} />\n            <Route path=\"/history/:id\" exact component={isLogged ? OrderDetail : NotFound} />\n\n            <Route path=\"/category\" exact component={isAdmin ? Category : NotFound} />\n            <Route path=\"/create_product\" exact component={isAdmin ? CreateProduct : NotFound} />\n            <Route path=\"/edit_product/:id\" exact component={isAdmin ? CreateProduct : NotFound} />\n            <Route path=\"*\" exact component={NotFound} />\n        </Switch>\n    )\n}\n\nexport default Pages\n","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { DataProvider } from './GlobalState'\nimport Header from './components/headers/Header'\nimport MainPages from './components/mainpages/Pages'\n\n\nfunction App() {\n  return (\n    <DataProvider>\n      <Router>\n        <div className=\"App\">\n          <Header />\n          <MainPages />\n        </div>\n      </Router>\n    </DataProvider>\n  );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n \n    <App />,\n  \n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}